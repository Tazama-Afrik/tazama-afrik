<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>African Countries - Tazama Afrik</title>
  <script src="https://code.jquery.com/jquery-3.5.0.js"></script>
  <!--For Allowing JQuery---->
  <link rel="stylesheet" href="//code.jquery.com/ui/1.13.1/themes/base/jquery-ui.css">
  <link rel="stylesheet" href="http://jqueryui.com/resources/demos/style.css">
  <script src="https://code.jquery.com/jquery-3.6.0.js"></script>
  <script src="https://code.jquery.com/ui/1.13.1/jquery-ui.js"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@300&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/css/countries.css" />
  <link rel='shortcut icon' href="/img/tazama_afrik.png" />
</head>
<!--------------------- TOP NAVIGATION BELOW ---------------------->

<body>
  <div class="topnav" id="navtop">
    <a id="home" href="/">Tazama Afrik</a>
    <a class="nav active" href="countries.html">Countries</a>
    <a class="nav" href="/pages/beaches">Beaches</a>
    <a class="nav" href="/pages/culture">Culture</a>
    <a class="nav" href="/pages/reserves">Reserves</a>
    <a class="nav" href="/pages/cuisine">Cuisine</a>
    <div id="select">Hide Countries</div>
    <div class="fa fa-bars fa-2x" id="menu-icon"></div>
    <div id="closer-icon">&times;</div>
  </div>
  <!--------- For Small Size Media --------------->

  <div id="menu">
    <above class="widget-header">
      <div>Make Your Selection Here</div>
    </above>
    <a class="b fa fa-medal" href="/#about">&nbsp; About</a>
      <a class="b fa fa-globe-africa" href="/pages/countries">&nbsp; Countries</a>
      <a class="b fa fa-umbrella-beach" href="/pages/beaches">&nbsp; Beaches</a>
      <a class="b fa fa-street-view" href="/pages/culture">&nbsp; Culture</a>
      <a class="b fa fa-tree" href="/pages/reserves">&nbsp; Reserves</a>
      <a class="b fa fa-utensil-spoon" href="/pages/cuisine">&nbsp; Cuisine</a>
    </div>

  <!--------------------- BEGINNING OF COUNTRIES LIST -------->

  <div id="accordion">
    <h3>Western Africa</h3>
    <div class="list">
      <h2 id="WA"></h2>
      <center>
        <div id="west"><span class="loading fa-spin"> üåç </span></div>
      </center>
    </div>
    <h3>Southern Africa</h3>
    <div class="list">
      <h2 id="SA"></h2>
      <center>
        <div id="south"><span class="loading fa-spin">üåç</span></div>
      </center>
    </div>
    <h3>Northern Africa</h3>
    <div class="list">
      <h2 id="NA"></h2>
      <center>
        <div id="north"><span class="loading fa-spin">üåç</span></div>
      </center>
    </div>
    <h3>Central Africa</h3>
    <div class="list">
      <h2 id="CA"></h2>
      <center>
        <div id="central"><span class="loading fa-spin">üåç</span></div>
      </center>
    </div>
    <h3>Eastern Africa</h3>
    <div class="list">
      <h2 id="EA"></h2>
      <div id="east"><span class="loading fa-spin">üåç</span></div>
    </div>
  </div>
  <!------     END OF COUNTRIES LIST ------->

  <main class="body">
    <!-- Header (The Country Name And Flag) -->
    <h1 id="title" style="font-size:150%">BENIN</h1>
    <!-- Country Data In Table -->
    <table class="data">
      <tr>
        <th> Official Name</th>
        <td id="official">None</td>
      </tr>
      <tr>
        <th>Population</th>
        <td id="population">None</td>
      </tr>
      <tr>
        <th> Region</th>
        <td id="region">None</td>
      </tr>
      <tr>
        <th>Currency</th>
        <td id="currency">None</td>
      </tr>
      <tr>
        <th>Capital</th>
        <td id="capital">None</td>
      </tr>
      <tr>
        <th>Language</th>
        <td id="language">None</td>
      </tr>
    </table>

    <div class="description">
      <p style="text-align: left;"><b>Select a Country To View Its Data. <br></b>
        <br> Note: The information provided in this section are regularly updated,
        but may not always be the most recent. Nonetheless, we assure you can trust our
        data and rely on it. Keep staying in touch.<br>
        <br>Coutries not loading? <span class="reload">Refresh</a>
      </p>
    </div>
    <!-- Rotator that shows when loading country-->
    <div id="waiting" class="fas fa-spinner fa-pulse fa-4x"></div>
    <div id="oops">Oops! There was an Error. Please try again</div>
  </main>


  <!------------- POP UP MESSAGE ------------->
  <div id="success">Thank You!<br>Message Sent Successfully</div>

  <!--------- POP UP FORM ---------->
  <div class="contact">
    <h2>Please fill in your feedback</h2>
    <form>
      <label for="name">
        <h4>Name:</h4>
        <input type=name id="name" placeholder="John Doe" required />
      </label>
      <label for="email">
        <h4>Email:</h4>
        <input type="email" id="email" placeholder="Enter your email" required />
      </label>
      <label for="message">
        <h4>Your Message:</h4>
        <span id="message" role="textbox" contenteditable></span>
      </label>
      <div title="Submit your feedback" id="submitbutton">Submit</div>
      <div id="close" title="Close">&times;</div>
    </form>
  </div>
  </div>
  <!----------------- Back To Top Button ----------------->
  <button class="back-to-top" title="Back To Top">
    <svg xmlns="http://www.w3.org/2000/svg" class="back-to-top-icon" fill="none" viewBox="0 0 24 24"
      stroke="currentColor" title="Scroll To Top">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 11l5-5m0 0l5 5m-5-5v12" />
    </svg>
  </button>

  <!------------------- NAVIGATION PANE ABOVE THE FOOTER --------------->

  <send class="send-message" id="propose">Send a feedback</send>
  <a href="https://github.com/Tazama-Afrik/tazama-afrik" id="fork">Fork On Github</a>
  <div class="links-and-contact">

    <div class="connect">
      <h4 class="navtopic">Connect With Us</h4>
      <div class="links">
        <one>
          <a class="zero fab fa-github fa-2x" href="https://github.com/Tazama-Afrik"></a>
        </one>
        <one>
          <a class="zero fab fa-linkedin fa-2x" href="https://linkedin.com/in/tazama-afrik"></a>
        </one>
        <one>
          <a class="zero fab fa-facebook fa-2x" href="https://facebook.com/in/tazama-afrik"></a>
        </one>
        <one>
          <a class="zero fab fa-twitter fa-2x" href="https://twitter.com/in/tazama-afrik"></a>
        </one>
      </div>
    </div>
    <div class="navigate">
      <h4 class="navtopic">Walk Around</h4>
      <a class="two" href="/#about">About Us</a>
      <a class="two" href="/pages/countries">Countries</a>
      <a class="two" href="/pages/beaches">Beaches</a>
      <a class="two" href="/pages/culture">Culture</a>
      <a class="two" href="/pages/reserves">Reserves</a>
      <a class="two" href="/pages/cuisine">Cuisine</a>
    </div>
    <!--Class Navigate Ends-->
    <div class="navigate">
      <h4 class="navtopic">Top Beaches<br>To View</h4>
      <a class="two" href="/pages/beaches#tabs-1">Belle Mare</a>
      <a class="two" href="/pages/beaches#tabs-2">Anse Lazio</a>
      <a class="two" href="/pages/beaches#tabs-3">Camps Bay</a>
      <a class="two" href="/pages/beaches#tabs-4">Diani</a>
      <a class="two" href="/pages/beaches#tabs-5">Boulders</a>
      <a class="two" href="/pages/beachesl#tabs-6">Bazaruto</a>
      <a class="two" href="/pages/beaches#tabs-7">Idyllic</a>
      <a class="two" href="/pages/beaches#tabs-8">Lekki</a>
    </div>
    <!--Class Navigate Beaches Ends-->
    <div class="navigate">
      <h4 class="navtopic">Top Reserve Places<br>To View</h4>
      <a class="two" href="/pages/reserves#tabs-1">Maasai Mara</a>
      <a class="two" href="/pages/reserves#tabs-2">Serengeti</a>
      <a class="two" href="/pages/reserves#tabs-3">Chobe</a>
      <a class="two" href="/pages/reserves#tabs-4">Kruger</a>
      <a class="two" href="/pages/reserves#tabs-5">Etosha</a>
      <a class="two" href="/pages/reserves#tabs-6">Volcanoes</a>
      <a class="two" href="/pages/reserves#tabs-7">Ngorongo</a>
      <a class="two" href="/pages/reserves#tabs-8">Tarangire</a>
    </div>
    <!--Class Navigate Reserves Ends-->
    <div class="navigate">
      <h4 class="navtopic">Top Meals And Cuisine<br>To Check out</h4>
      <a class="two" href="/pages/cuisine#tabs-1">Couscous</a>
      <a class="two" href="/pages/cuisine#tabs-2">Jollof Rice</a>
      <a class="two" href="/pages/cuisine#tabs-3">Chakalaka</a>
      <a class="two" href="/pages/cuisine#tabs-4">Biltong</a>
      <a class="two" href="/pages/cuisine#tabs-5">Chermoula</a>
      <a class="two" href="/pages/cuisine#tabs-6">Fufu</a>
      <a class="two" href="/pages/cuisine#tabs-7">Tajine</a>
      <a class="two" href="/pages/cuisine#tabs-8">Yassa</a>
    </div>
    <div class="navigate">
      <h4 class="navtopic">Engineers</h4>
      <three id="engineers">
        <us class="two" id="obed" title="View Obed"><img src="/img/eng/Obed.jpg" alt="Obed's image" class="eng"> Obed
        </us>
        <us class="two" id="faith" title="View Faith"><img src="/img/eng/Faith.jpg" alt="Faith's image"
            class="eng">Faith</us>
      </three>
    </div>
  </div>
  <!-- Profile Images Layout Below -->
  <div style="display: none;" class="profile" id="ob">
    <div class="clos">&times;</div>
    <img src="/img/eng/Obed.jpg" alt="Obed's Image" class="dp">
    <a href="https://ericob.sytes.net" target="_blank" class="text">Obed Amoako</a>
    <div class="contacts">
      <a target="_blank" href="https:/linkedin.com/ericob3d" title="Linkedin" id="linkedin" class="five fab fa-linkedin fa-2x"></a>
      <a target="_blank" href="https://twitter.com/obedamoako8" title="Twitter" id="twitter" class="five fab fa-twitter fa-2x"></a>
      <a target="_blank" href="https://github.com/Obed101" title="Github" id="github" class="five fab fa-github fa-2x"></a>
      <a target="_blank" href="tel://+233593124570" title="Telephone" id="tel" class="five fa fa-phone-alt fa-2x"></a>
      <a target="_blank" href="mailto:obedamoako92@gmail.com" title="Message" id="mail" class="five fa fa-envelope fa-2x"></a>
      <a target="_blank" href="https://wa.me/233274097985" title="WhatsApp" id="whatsapp" class="five fab fa-whatsapp fa-2x"></a>
    </div>
    <a target="_blank" href="https://paypal.me/ericobe" class="coffee">‚òï Buy Obed a coffee</a>
  </div>
  <div style="display: none;" class="profile" id="fth">
    <div class="clos">&times;</div>
    <img src="/img/eng/Faith.jpg" alt="Faith's Image" class="dp">
    <div class="text">Faith Ikhidero</div>
    <div class="contacts">
      <a target="_blank" href="https:/linkedin.com/ericob3d" title="Linkedin" class="five fab fa-linkedin fa-2x"></a>
      <a target="_blank" href="" title="Twitter" class="five fab fa-twitter fa-2x"></a>
      <a target="_blank" href="https://github.com/Obed101" title="Github" class="five fab fa-github fa-2x"></a>
      <a target="_blank" href="tel://+233593124570" title="Telephone" class="five fa fa-phone-alt fa-2x"></a>
      <a target="_blank" href="mailto:obedamoako92@gmail.com" title="Message" class="five fa fa-envelope fa-2x"></a>
      <a target="_blank" href="https://wa.me/233274097985" title="WhatsApp" class="five fab fa-whatsapp fa-2x"></a>
    </div>
    <a target="_blank" href="#" class="coffee">‚òï Buy Faith a coffee</a>
  </div>
  <center class="counter"></center>
  <footer id="footer">Src: wikipedia | All rights reserved | Tazama Afrik </footer>
</body>

<!-------------------------Javascript below ------------------------------------->
<script>
  /////////////// THE ACORDION ////////////////////
  $(function () {
    $("#accordion").accordion();
    $("#select").click(function () {
      $("#accordion").slideToggle();
      if ($('#select').text() == 'Show Countries') {
        $('#select').text('Hide Countries')
      } else {
        $('#select').text('Show Countries')
      }
    });
  });
  $('.reload').click(function () {
    location.reload();
  });
  ////////////// HANDLING CLICKS AND DISPLAY OF MENU /////////////
  $('#menu-icon').click(function () {
    $('#menu').slideToggle();
    $(this).fadeOut();
    $('#closer-icon').fadeIn();
  });
  $('#closer-icon').click(function () {
    $('#menu').slideToggle();
    $(this).fadeOut();
    $('#menu-icon').fadeIn();
  });
  $('.b').click(function () {
    $('#menu').slideUp();
  });
  ////////////////////// API QUERY FOR DEFAULT COUNTRY ///////////////
  $.ajax({
    url: `https://restcountries.com/v3.1/name/benin`,
    success: function (data) {
      let flag = `<img src="https://flagcdn.com/h40/${data[0].cca2.toLowerCase()}.png"/>`
      countryName = 'benin';
      $('#title').html('benin ' + flag);
    }
  });
  /////////////////// API QUERY FOR ALL SUBREGIONS ///////////////////
  $(function () {
    $.ajax({
      url: 'https://restcountries.com/v3.1/subregion/west',
      success: function (data) {
        $country = $('#west')
        $number = $('#WA')
        let num = 0;
        $.each(data, function (i, item) {
          $common = item.name.common;
          if (item.region === 'Africa') {
            if ($common == "Saint Helena, Ascension and Tristan da Cunha" || $common == "Cape Verde") {
              return true;
            } else {
              $country.append('<li class="country">' + $common + '</li>')
              num += 1;
            }
          }
        });
        $number.append(`${num} Countries`);
        $('.country').click(clicked);
      },
    });
    $.ajax({
      url: 'https://restcountries.com/v3.1/subregion/south',
      success: function (data) {
        $country = $('#south')
        $number = $('#SA')
        let num = 0;
        $.each(data, function (i, item) {
          $common = item.name.common;
          if (item.region === 'Africa') {
            $country.append('<li class="country">' + $common + '</li>')
            num += 1;
          }
        });

        $number.prepend(`${num} Countries`);
        $('.country').click(clicked);
      },
    });
    $.ajax({
      url: 'https://restcountries.com/v3.1/subregion/north',
      success: function (data) {
        $country = $('#north')
        $number = $('#NA')
        let num = 0;
        $.each(data, function (i, item) {
          $common = item.name.common;
          if (item.region === 'Africa') {
            if ($common == "Western Sahara") {
              return true;
            } else {
              $country.append('<li class="country">' + $common + '</li>')
              num += 1;
            }
          }
        });

        $number.prepend(`${num} Countries`);
        $('.country').click(clicked);
      },
    });
    $.ajax({
      url: 'https://restcountries.com/v3.1/subregion/middle',
      success: function (data) {
        $country = $('#central')
        $number = $('#CA')
        let num = 0;
        $.each(data, function (i, item) {
          $common = item.name.common;
          if (item.region === 'Africa') {
            $country.append('<li class="country">' + $common + '</li>')
            num += 1
          }
        });

        $number.prepend(`${num} Countries`);
        $('.country').click(clicked);
      },
    });
    $.ajax({
      url: 'https://restcountries.com/v3.1/subregion/east',
      success: function (data) {
        $country = $('#east')
        $number = $('#EA')
        let num = 0;
        $.each(data, function (i, item) {
          $common = item.name.common;
          if (item.region === 'Africa') {
            if ($common == "British Indian Ocean Territory") {
              return true;
            } else {
              $country.append('<li class="country">' + $common + '</li>')
              num += 1;
            }
          }
        });
        $number.prepend(`${num} Countries`);
        $('.country').click(clicked);
      },
      // error: alert('Hey, There was an error. Check the URL and try again')
    });
  });

  //////////////////////////// Counting The Page Visits///////////////////////////////

  function visits() {
    $count = $(".counter");
    $views = localStorage.getItem("page_view");
    if ($views) {
      $views = Number($views) + 1;
      localStorage.setItem("page_view", $views);
    } else {
      $views = 1;
      localStorage.setItem("page_view", 1);
    }
    $message = `You've Visited This Site ${$views} Times`
    $count.html($message);
  }
  visits();
  ////////////////////////////  COUNTRY CLICK HANDLER //////////////////////////////////////////////
  function getFirst(obj) {
    // Function for getting the first item in an object //
    for (let key in obj) {
      return (obj[key]);
      break;
    }
  }
  ////// Error Countries: Mali, Nigeria, Burkina, SouthSudan, RepubCongo.
  function clicked() {
    $unchanged = $(this).text();
    $name = $(this).text().toLowerCase().split(" ")[0];
    ///////// Different url for the error countries ///////
    let api = `https://restcountries.com/v3.1/name/${$name}`;
    if ($name == 'burkina') {
      api = 'https://restcountries.com/v3.1/capital/Ouagadougou'
    } else if ($name == 'nigeria') {
      api = 'https://restcountries.com/v3.1/capital/Abuja'
    } else if ($unchanged == 'South Sudan') {
      api = 'https://restcountries.com/v3.1/capital/Juba'
    } else if ($name == 'mali') {
      api = 'https://restcountries.com/v3.1/capital/Bamako'
    } else if ($name == 'republic') {
      api = 'https://restcountries.com/v3.1/capital/brazzaville'
    }
    $('#waiting').show();
    $.ajax({
      url: api,
      success: function (data) {
        data[0].flag = `<img src="https://flagcdn.com/h40/${data[0].cca2.toLowerCase()}.png"/>`
        data = data[0];
        countryName = data.name.common;
        $('#title').html(`${countryName} ${data.flag}`);
        $('#population').html(data.population);
        $('#region').html(data.subregion);
        const currency = Object.entries(data.currencies);
        const all = [...currency.map(x => x[1]["name"]), ...currency[0]]
        $('#currency').html(`${all[0]} (${all[1]})`);
        $('#capital').html(...data.capital);
        $('#language').html(getFirst(data.languages));
        $('#official').html(data.name.official)
        $('#select').text('Show Countries');
        // goToTop();
        /////// READING FROM THE JSON FILE ///////////////
        if ($name == "south") { $name = $unchanged.toLowerCase() }
        $.ajax({
          url: '/all_countries.json',
          success: function (desc) {
            desc = desc[0];
            if ($name in desc) {
              found = desc[$name].join('\n');
              $('.description').html(found);
              $('#accordion').slideUp();
              $('#waiting').fadeOut();
            } else {
              $('.description').html(`Check your connection to
                                  load description for <b>${$unchanged}</b>`);
            }
          }
        });
      },
      error: function () {
        $('#waiting').hide();
        $('#oops').show().delay(1500).fadeOut();
      }
    });
  }

  //////////////// CLICKS FOR CLOSE BUTTON AND SEND MESSAGE ////////////
  $('#close').click(function () {
    $('.contact').css('display', 'none');
  });
  $('#propose').click(function () {
    $('.contact').show();
  })

  ////////////Scroll To Top///////////

  $toTop = $(".back-to-top");
  let showOnPx = 100;
  // $pageProgressBar = $(".progress-bar"); // Later implementation

  const scrollContainer = () => {
    return document.documentElement || document.body;
  };

  document.addEventListener("scroll", () => {
    if (scrollContainer().scrollTop > showOnPx) {
      $toTop.fadeIn();
    } else {
      $toTop.slideUp();
    }
  });

  const goToTop = () => {
    document.body.scrollIntoView({
      behavior: "smooth"
    });
  };
  $toTop.click(goToTop);

  ///////////// Profile Display/////////////
  $('#obed').click(function () {
    $('#fth').fadeOut();
    $('#ob').fadeIn();
  })
  $('#faith').click(function () {
    $('#ob').fadeOut();
    $('#fth').fadeIn();
  })
  $('.clos').click(function () {
    $('#ob').fadeOut();
    $('#fth').fadeOut();
  })
</script>

</html>