<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Countries | Tazama Afrik</title>
  <script src="https://code.jquery.com/jquery-3.5.0.js"></script> <!--For Allowing JQuery---->
  <link rel="stylesheet" href="//code.jquery.com/ui/1.13.1/themes/base/jquery-ui.css">
  <link rel="stylesheet" href="http://jqueryui.com/resources/demos/style.css">
  <script src="https://code.jquery.com/jquery-3.6.0.js"></script>
  <script src="https://code.jquery.com/ui/1.13.1/jquery-ui.js"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@300&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../css/styles1.css"/>
  <link rel="stylesheet" href="../css/countries.css"/>
  <link rel='shortcut icon' href="../img/tazama_afrik.png"/>
</head>

<body>
  <div class="topnav" id="navtop">
    <a class="home" href="../index.html"><img src="../img/tazama.jpg" alt="Home"></a>
    <a class="nav active" href="countries.html">Countries</a>
    <a class="nav" href="beaches.html">Beaches</a>
    <a class="nav" href="culture.html">Culture</a>
    <a class="nav" href="reserves.html">Reserves</a>
    <a class="nav" href="cuisine.html">Cuisine</a>
      <div id="select">Hide Countries</div>
  </div>
  <!---------For Small Size Media--------------->
  <img src="../img/menu.png" alt="Menu" id="menu-icon"/>
  <div id="closer-icon">&times;</div>
  <div id="menu">
    <above class="widget-header"><div>Make Your Selection Here</div></above>
    <a class="b active" href="countries.html">üåç  Countries</a>
    <a class="b" href="beaches.html"><img class="slide-icon" src="../img/beaches-icon.png"/>&nbsp; Beaches</a>
    <a class="b" href="culture.html"><img class="slide-icon" src="../img/cult-icon.png"/>&nbsp; Culture</a>
    <a class="b" href="reserves.html"><img class="slide-icon" src="../img/res-icon.png"/> &nbsp;Reserves</a>
    <a class="b" href="cuisine.html"><img class="slide-icon" src="../img/fud-icon.jpg"/>&nbsp; Cuisine</a>
  </div>

	    <!------     BEGINNING OF COUNTRIES LIST -------->
    
      <div id="accordion">
        <h3>Western Africa</h3>
        <div class="list">
          <h2 id="WA"></h2>
          <center> <div id="west"><span class="loading show"> üåç </span></div></center>
        </div>
        <h3>Southern Africa</h3>
        <div class="list">
          <h2 id="SA"></h2>
          <center> <div id="south" ><span class="loading">üåç</span></div></center>
        </div>
        <h3>Northern Africa</h3>
        <div class="list">
          <h2 id="NA"></h2>
          <center> <div id="north"><span class="loading">üåç</span></div></center>
        </div>
        <h3>Central Africa</h3>
        <div class="list">
          <h2 id="CA"></h2>
          <center> <div id="central"><span class="loading">üåç</span></div></center>
        </div>
        <h3>Eastern Africa</h3>
        <div class="list">
          <h2 id="EA"></h2>
           <div id="east"><span class="loading">üåç</span></div>
        </div>
      </div>
	    <!------     END OF COUNTRIES LIST ------->

      <main class="body">
        <h1 id="title" style="font-size:150%">NIGER</h1>
      <div class="data" style="font-family:sans-serif; color: darkblue; font-weight: bolder; font-size: 70%; text-align: center;">
        Official Name: Connect to the internet | Population: Connect to the internet | Subregion: Connect to the internet</div>
      
      <p style="text-align: left;">Lorem ipsum dolor, sit amet consectetur adipisicing elit. Dignissimos, nobis tempora cumque quisquam eligendi ratione quis repudiandae harum quia, voluptatibus neque expedita recusandae consequuntur voluptatum non cum inventore iusto nulla similique laboriosam delectus nesciunt. Voluptatum odio assumenda rem quasi asperiores porro hic ducimus aspernatur tempora minus debitis accusantium ab voluptate, eius harum fugiat quae veniam deleniti architecto temporibus magnam perferendis at doloremque! Fugiat, ipsa ea aliquid dolorum modi quibusdam voluptatibus!</p>
      <p style="text-align: left;">Lorem ipsum dolor, sit amet consectetur adipisicing elit. Dignissimos, nobis tempora cumque quisquam eligendi ratione quis repudiandae harum quia, voluptatibus neque expedita recusandae consequuntur voluptatum non cum inventore iusto nulla similique laboriosam delectus nesciunt. Voluptatum odio assumenda rem quasi asperiores porro hic ducimus aspernatur tempora minus debitis accusantium ab voluptate, eius harum fugiat quae veniam deleniti architecto temporibus magnam perferendis at doloremque! Fugiat, ipsa ea aliquid dolorum modi quibusdam voluptatibus!</p>
      <p style="text-align: left;">Lorem ipsum dolor, sit amet consectetur adipisicing elit. Dignissimos, nobis tempora cumque quisquam eligendi ratione quis repudiandae harum quia, voluptatibus neque expedita recusandae consequuntur voluptatum non cum inventore iusto nulla similique laboriosam delectus nesciunt. Voluptatum odio assumenda rem quasi asperiores porro hic ducimus aspernatur tempora minus debitis accusantium ab voluptate, eius harum fugiat quae veniam deleniti architecto temporibus magnam perferendis at doloremque! Fugiat, ipsa ea aliquid dolorum modi quibusdam voluptatibus!</p>
      <p style="text-align: left;">Lorem ipsum dolor, sit amet consectetur adipisicing elit. Dignissimos, nobis tempora cumque quisquam eligendi ratione quis repudiandae harum quia, voluptatibus neque expedita recusandae consequuntur voluptatum non cum inventore iusto nulla similique laboriosam delectus nesciunt. Voluptatum odio assumenda rem quasi asperiores porro hic ducimus aspernatur tempora minus debitis accusantium ab voluptate, eius harum fugiat quae veniam deleniti architecto temporibus magnam perferendis at doloremque! Fugiat, ipsa ea aliquid dolorum modi quibusdam voluptatibus!</p>
      <p style="text-align: left;">Lorem ipsum dolor, sit amet consectetur adipisicing elit. Dignissimos, nobis tempora cumque quisquam eligendi ratione quis repudiandae harum quia, voluptatibus neque expedita recusandae consequuntur voluptatum non cum inventore iusto nulla similique laboriosam delectus nesciunt. Voluptatum odio assumenda rem quasi asperiores porro hic ducimus aspernatur tempora minus debitis accusantium ab voluptate, eius harum fugiat quae veniam deleniti architecto temporibus magnam perferendis at doloremque! Fugiat, ipsa ea aliquid dolorum modi quibusdam voluptatibus!</p>
      <p style="text-align: left;">Lorem ipsum dolor, sit amet consectetur adipisicing elit. Dignissimos, nobis tempora cumque quisquam eligendi ratione quis repudiandae harum quia, voluptatibus neque expedita recusandae consequuntur voluptatum non cum inventore iusto nulla similique laboriosam delectus nesciunt. Voluptatum odio assumenda rem quasi asperiores porro hic ducimus aspernatur tempora minus debitis accusantium ab voluptate, eius harum fugiat quae veniam deleniti architecto temporibus magnam perferendis at doloremque! Fugiat, ipsa ea aliquid dolorum modi quibusdam voluptatibus!</p>

    </main>
    
    <div class="links-and-contact">
      <send class="send-message" id="propose">Send us a message</send>

        <div class="links">
          <h4>Connect With Us!</h4>
          <ul class="link-lists">
            <li>
              <a style="width: fit-content; color: white;" href="https://github.com/Tazama-Afrik">Github</a>
            <li>
              <img style="width: fit-content;" title="LinkedIn" href="https://linkedin.com/in/tazama-afrik" src="../img/linkedin.png"/>
            <li>
              <img style="width: fit-content;" title="Facebook" href="https://facebook.com/in/tazama-afrik" src="../img/facebook.png"/>
            <li>
              <img style="width: fit-content;" title="Twitter" href="https://twitter.com/in/tazama-afrik" src="../img/tw.png"/>
            </li>
          </ul>
        </div>
        <!-- </div> -->
        
        <div id="success" >Thank You!<br>Message Sent Successfully</div>


    <div class="contact">
      <h2>Feel Free To <br>Tell Us Something</h2>
      <form>
        <label for="name">
          <h4>Name:</h4>
          <input type=name id="name" placeholder="John Doe" required />
        </label>
        <label for="email">
          <h4>Email:</h4>
          <input type="email" id="email" placeholder="Enter your email" required />
        </label>
        <label for="message">
          <h4>Your Message:</h4>
          <textarea id="message" placeholder="You can resize this for long message" minlength="2" required></textarea>
        </label>
        <div class="submit-button-wrapper">
          <div title="Send Message" id="submitbutton">Submit</div>
        </div>
        <div id="close" title="Close">&times; </div>
      </form>
    </div>
    <footer id="footer">Copyright &copy; Tazama Afrik <span class="counter"></span></footer>
</body>

<!-------------------------Javascript below ------------------------------------->
  <script>
    ///////////////THE ACORDION ////////////////////
  $( function() {
    $( "#accordion" ).accordion();
      $("#select").click(function(){
        $("#accordion").slideToggle();
        if ($('#select').text() == 'Show Countries') {
          $('#select').text('Hide Countries')
        } else {
          $('#select').text('Show Countries')
        }
      });
  });
////////////// HANDLING CLICKS AND DISPLAY OF MENU /////////////
$('#menu-icon').click(function(){
    $('#menu').slideToggle();
    $(this).fadeOut();
    $('#closer-icon').fadeIn();
  });
  $('#closer-icon').click(function(){
    $('#menu').slideToggle();
    $(this).fadeOut();
    $('#menu-icon').fadeIn();
  });
  $('.b').click(function(){
    $('#menu').slideUp();
  });
  ////////////////////// API QUERY FOR DEFAULT COUNTRY ///////////////
  $.ajax({
      url: `https://restcountries.com/v3.1/name/benin`,
      success: function(data) {
        data[0].flag = `<img src="https://flagcdn.com/h40/${data[0].cca2.toLowerCase()}.png"/>`
        countryName = 'benin';
        data = data[0];
        $('#title').html(''+countryName+' '+ data.flag +'');
        $('.data').html("Official Name: <u>"+data.name.official+"</u> | Population: <u>"+data.population+"</u> | Region: <u>"+data.subregion+
        "</u><br> Curency: <u>"+data.name.common+"'s Currency</u> | Languages: <u>"+data.languages[0]+"</u>")
      }
    });
    /////////////////// API QUERY FOR ALL SUBREGIONS ///////////////////
  $(function (){
    $.ajax({
      url: 'https://restcountries.com/v3.1/subregion/west',
      success: function(data){
        $country = $('#west')
        $number = $('#WA')
        let num = 0;
        $.each(data, function(i, item){
          if ( item.region === 'Africa' ) { 
            $country.append('<li class="country">'+ item.name.common +'</li>')
            num += 1;
          }
        });

        $number.append(`${num} Countries`);
        $('.country').click(clicked);
      },
    });
    $.ajax({
      url: 'https://restcountries.com/v3.1/subregion/south',
      success: function(data){
        $country = $('#south')
        $number = $('#SA')
        let num = 0;
        $.each(data, function(i, item){
          if ( item.region === 'Africa' ) { 
            $country.append('<li class="country">'+ item.name.common +'</li>')
          num += 1;
          }
        });

        $number.prepend(`${num} Countries`);
        $('.country').click(clicked);
      },
    });
    $.ajax({
      url: 'https://restcountries.com/v3.1/subregion/north',
      success: function(data){
        $country = $('#north')
        $number = $('#NA')
        let num = 0;
        $.each(data, function(i, item){
          if ( item.region === 'Africa' ) { 
            $country.append('<li class="country">'+ item.name.common +'</li>')
          num += 1;
          }
        });

        $number.prepend(`${num} Countries`);
        $('.country').click(clicked);
      },
    });
    $.ajax({
      url: 'https://restcountries.com/v3.1/subregion/middle',
      success: function(data){
        $country = $('#central')
        $number = $('#CA')
        let num = 0;
        $.each(data, function(i, item){
          if ( item.region === 'Africa' ) { 
            $country.append('<li class="country">'+ item.name.common +'</li>')
            num += 1
          }
        });

        $number.prepend(`${num} Countries`);
        $('.country').click(clicked);
      },
    });
    $.ajax({
      url: 'https://restcountries.com/v3.1/subregion/east',
      success: function(data){
        $country = $('#east')
        $number = $('#EA')
        let num = 0;
        $.each(data, function(i, item){
          if ( item.region === 'Africa' ) { 
            $country.append('<li class="country">'+ item.name.common +'</li>')
            num += 1;
          }
        });
        $number.prepend(`${num} Countries`);
        $('.country').click(clicked);
      },
      // error: alert('Hey, There was an error. Check the URL and try again')
    });
  });

  //////////////////////////// Counting The Page Visits///////////////////////////////

  function visits() {
    $count = $(".counter");
    $views = localStorage.getItem("page_view");
    if ($views) {
    $views = Number($views) + 1;
    localStorage.setItem("page_view", $views);
    } else {
      $views = 1;
      localStorage.setItem("page_view", 1);
    }
    $message = `Total Visits(Since March 2022): ${$views}`;
    $count.html($message);
  }
  visits();
////////////////////////////  COUNTRY CLICK HANDLER //////////////////////////////////////////////

  function clicked(){
    $name = $(this).text().toLowerCase().split(" ")[0];
    $.ajax({
      url: `https://restcountries.com/v3.1/name/${$name}`,
      success: function(data) {
        data[0].flag = `<img src="https://flagcdn.com/h40/${data[0].cca2.toLowerCase()}.png"/>`
        data = data[0];
        countryName = data.name.common;
        $('#title').html(''+countryName+' '+ data.flag +'');
        $('.data').html("Official Name: <u>"+data.name.official+"</u> | Population: <u>"+data.population+"</u> | Region: <u>"+data.subregion+
        "</u><br> Curency: <u>"+data.currencies+"</u> | Languages: <u>"+data.languages[0]+"</u>")
        $('#accordion').slideUp();
        $('#select').text('Show Countries');
      }
    });
  }
  ///////////////////////// SEND A MESSAGE AND SAVE (Will Be Implemented Later)///////////////////////
  // $('#submitbutton').click(function () {
  //   if ($('#message').val()) {
  //   $('.contact').css('display', 'none');
  //   $name = $('#name').val();
  //   $email = $('#email').val();
  //   $message = $('#message').val() + " ";
  //   $info = $('#user-messages');
  //   $info.append("<br> <span class='red'>Name:</span><br> "+$name+"");
  //   $info.append("<br><span class='red'>Email:</span><br> "+$email+"");
  //   $info.append("<br> <span class='red'>Message:</span><br> "+$message+"");
  //   $info.append("<br>____________________________________");
  //   updateItem('user-messages', $info.text());
  //   // $info.css('display', 'block');
  //   $('#success').css('display', 'block');
  //   $("#success").show().delay(4000).fadeOut();
  //   // console.log($info.text());
  //   updateItem('user-messages', $info.text());
  //   let check = localStorage.getItem('user-messages');
  //   console.log(check);
  // }
  // });
  // function updateItem(item, data){
  //   var old = localStorage.getItem(item);
  //   if(old === null) {localStorage.setItem(old, "")}
  //   localStorage.setItem(item, old + data);
  // }

//////////////// CLICKS FOR CLOSE BUTTON AND SEND MESSAGE ////////////
  $('#close').click(function () {
    $('.contact').css('display', 'none');
  });
  $('#propose').click(function () {
    $('.contact').show().delay(400).fadeOut();
  })
</script>

</html>
