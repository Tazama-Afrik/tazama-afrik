<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Countries | Tazama Afrik</title>
  <script src="https://code.jquery.com/jquery-3.5.0.js"></script> <!--For Allowing JQuery---->
  <link rel="stylesheet" href="//code.jquery.com/ui/1.13.1/themes/base/jquery-ui.css">
  <link rel="stylesheet" href="/resources/demos/style.css">
  <script src="https://code.jquery.com/jquery-3.6.0.js"></script>
  <script src="https://code.jquery.com/ui/1.13.1/jquery-ui.js"></script>
  <link rel="stylesheet" href="../css/styles.css"/>
  <link rel="stylesheet" href="../css/countries.css"/>
  <link rel='shortcut icon' href="../img/tazama_afrik.png"/>
  <div class="topnav" id="navtop">
    <a class="home" href="../homepage.html"><img src="../img/tazama.jpg" alt="Home"></a>
    <a class="nav active" href="../html/countries.html">Countries</a>
    <a class="nav" href="../html/beaches.html">Beaches</a>
    <a class="nav" href="../html/culture.html">Culture</a>
    <a class="nav" href="../html/reserves.html">Reserves</a>
    <a class="nav" href="../html/restaurants.html">Restaurants</a>
      <div id="select">Select country</div>
  </div>
</head>


<body>

	    <!------     BEGINNING OF COUNTRIES LIST -------->
      <container id="display">
      <div id="accordion">
        <h3>Western Africa</h3>
        <div class="list">
          <h2 id="WA"></h2>
          <center> <div id="west">Loading... </div></center>
        </div>
        <h3>Southern Africa</h3>
        <div class="list">
          <h2 id="SA"></h2>
          <center> <div id="south">Loading... </div></center>
        </div>
        <h3>Northern Africa</h3>
        <div class="list">
          <h2 id="NA"></h2>
          <center> <div id="north">Loading... </div></center>
        </div>
        <h3>Central Africa</h3>
        <div class="list">
          <h2 id="CA"></h2>
          <center> <div id="central">Loading... </div></center>
        </div>
        <h3>Eastern Africa</h3>
        <div class="list">
          <h2 id="EA"></h2>
          <center> <div id="east">Loading... </div></center>
        </div>
      </div>
	    <!------     END OF COUNTRIES LIST ------->

      <main class="body">
        <h1 id="title">The Country Details Shows Here!</h1>
      
      The Countries will load now
      </main>
    </container>
</body>

<!-------------------------Javascript below ------------------------------------->
  <script>
  $( function() {
    $( "#accordion" ).accordion();
  } );
  $("#select").click(function(){
  $("#accordion").slideToggle();
});

  $(function (){
    let $country = $('#west');
     let $title = $('#WA')
    $.ajax({
      url: 'https://restcountries.com/v3.1/subregion/west',
      success: function(data){
        console.log(data)
        let num = 0;
        $.each(data, function(i, item){
          if ( item.region === 'Africa' ) { 
          $country.append('<li class="country">'+ item.name.common +'</li>')
          num += 1;
          }
        });

        $title.append(`<br>${num} Countries`)
      },
      // error: alert('Hey, There was an error. Check the URL and try again')
    });
    $.ajax({
      url: 'https://restcountries.com/v3.1/subregion/south',
      success: function(data){
        $country = $('#south')
        $title = $('#SA')
        console.log(data)
        let num = 0;
        $.each(data, function(i, item){
          if ( item.region === 'Africa' ) { 
            $country.append('<li class="country">'+ item.name.common +'</li>')
          num += 1;
          }
        });

        $title.append(`<br>${num} Countries`)
      },
      // error: alert('Hey, There was an error. Check the URL and try again')
    });
    $.ajax({
      url: 'https://restcountries.com/v3.1/subregion/north',
      success: function(data){
        $country = $('#north')
        $title = $('#NA')
        console.log(data)
        let num = 0;
        $.each(data, function(i, item){
          if ( item.region === 'Africa' ) { 
            $country.append('<li class="country">'+ item.name.common +'</li>')
          num += 1;
          }
        });

        $title.append(`<br>${num} Countries`)
      },
      // error: alert('Hey, There was an error. Check the URL and try again')
    });
    $.ajax({
      url: 'https://restcountries.com/v3.1/subregion/central',
      success: function(data){
        $country = $('#central')
        $title = $('#CA')
        let num = 0;
        $.each(data, function(i, item){
          if ( item.region === 'Africa' ) { 
        console.log(data)
        $country.append('<li class="country">'+ item.name.common +'</li>')
          num += 1;
          }
        });

        $title.append(`<br>${num} Countries`)
      },
      // error: alert('Hey, There was an error. Check the URL and try again')
    });
    $.ajax({
      url: 'https://restcountries.com/v3.1/subregion/east',
      success: function(data){
        $country = $('#east')
        $title = $('#EA')
        let num = 0;
        $.each(data, function(i, item){
          if ( item.region === 'Africa' ) { 
            console.log(data)
            $country.append('<li class="country">'+ item.name.common +'</li>')
          num += 1;
          }
        });

        $title.append(`<br>${num} Countries`)
      },
      // error: alert('Hey, There was an error. Check the URL and try again')
    });
  });
</script>
  </script>
</html>